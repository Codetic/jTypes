/*! ------------------------------------------------------------------------
//                               jTypes 2.1.0b
//  ------------------------------------------------------------------------
//
//                   Copyright 2013 Gaulinsoft Corporation
//
//       Licensed under the Apache License, Version 2.0 (the "License");
//      you may not use this file except in compliance with the License.
//                   You may obtain a copy of the License at
//
//                 http://www.apache.org/licenses/LICENSE-2.0
//
//     Unless required by applicable law or agreed to in writing, software
//      distributed under the License is distributed on an "AS IS" BASIS,
//  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
//     See the License for the specific language governing permissions and
//                       limitations under the License.
*/
(function(g,e,b){var h=Object,q=h.defineProperty,r=function(a){return"jTypes Error: "+b.format.apply(b,arguments)},f=e(g.document),c=null,d={},j=b.now();e(g);f.click(function(){}).keydown(function(){});b.property(d,"Element",{e:!0,v:b("abstract",function(a){if(!a||!a.jquery||1!==a.length)throw r("A jQuery wrapper on 1 DOM element is required.");a.data("__jTypes__",this.__self)},{"public abstract blur":function(){return c===this.__self?(c=null,!0):!1},"public abstract dispose":function(a){a.removeData("__jTypes__")},
"public abstract focus":function(){c&&c!==this.__self&&c.blur();if(this.disabled)return!1;c=this.__self;return!0},"public virtual reset":function(){c===this.__self&&this.blur();return this},"public abstract disabled":{get:b.empty(),set:b.empty()},"public abstract visible":{get:b.empty()}})});b.property(d,"InputElement",{e:!0,v:b("abstract",d.Element,{"protected $_input":null,"public override blur":function(){if(!arguments.length)return this.__base.blur();this.$_input.blur.apply(this.$_input,arguments);
return this},"public change":function(){arguments.length?this.$_input.change.apply(this.$_input,arguments):this.$_input.triggerHandler("change");return this},"public override dispose":function(){this.__base.dispose(this.$_input)},"public override focus":function(){if(!arguments.length)return this.__base.focus();this.$_input.focus.apply(this.$_input,arguments);return this},"public override disabled":{get:function(){return b.asBool(this.$_input.prop("disabled"))},set:function(a){(a=b.asBool(a))&&c===
this.__self&&this.blur();this.$_input.prop("disabled",a)}},"public abstract override visible":{get:b.empty()}})});var k=function(a){a=a.data;c&&c.blur();a.disabled||a.$_input.triggerHandler("click")},m=function(a){var b=e.utilities.now();if(100>b-j)return!1;var c=a.data;switch(a.which){case 13:case 32:return j=b,a.preventDefault(),c.click(),!1}},n=function(a){a=a.data;a.disabled()||a._input.triggerHandler("mouseenter")},p=function(a){a=a.data;a.disabled()||a._input.triggerHandler("mouseleave")};b.property(d,
"Button",{e:!0,v:b(d.InputElement,function(a){this.__base(a);this.$_button=e('<span class="button" />');this.$_icon=e("<img />");a=b.asString(this.$_input.attr("class"));var c=b.asString(this.$_input.attr("style"));a&&this.$_button.addClass(a);c&&this.$_button.attr("style",c);this.disabled&&this.$_button.addClass("disabled");this.$_input.hide().after(this.$_button.click(this,k).bind("vmouseover",this,n).bind("vmouseout",this,p));this.text=this.$_input.val()||""},{"protected $_button":null,"protected $_icon":null,
"public override blur":function(){if(arguments.length)this.__base.blur.apply(this,arguments);else{if(!this.__base.blur())return!1;this._button.removeClass("focused");f.unbind("keydown",m);this._input.triggerHandler("blur");return!0}return this},"public click":function(){arguments.length?this.$_input.click.apply(this.$_input,arguments):(c&&c!==this.__self&&c.blur(),this.$_input.triggerHandler("click"));return this},"public override dispose":function(){this.__base.dispose();this.$_button.remove();this.$_input.unbind("click",
k).unbind("vmouseover",n).unbind("vmouseout",p).show()},"public override focus":function(){if(arguments.length)this.__base.focus.apply(this,arguments);else{if(!this.__base.focus())return!1;b.utilities.scrollTo(this.$_button);this.$_button.addClass("focused");f.keydown(this,m);this.$_input.triggerHandler("focus");return!0}return this},"public mouseenter":function(){arguments.length?this.$_input.mouseenter.apply(this.$_input,arguments):this.$_input.triggerHandler("mouseenter");return this},"public mouseleave":function(){arguments.length?
this.$_input.mouseleave.apply(this.$_input,arguments):this.$_input.triggerHandler("mouseleave");return this},"public override reset":function(){this.__base.reset();this.$_button.removeClass("error");this.text=this.$_input.prop("defaultValue")||""},"public override disabled":{set:function(){var a=this.__base.disabled;a?this.$_button.addClass("disabled"):this.$_button.removeClass("disabled");return a}},"public virtual icon":{get:function(){return b.asString(this.$_input.attr("src"))},set:function(a){(a=
b.asString(a))?(this.$_input.attr("src",a),this.$_button.prepend(this.$_icon.attr("src",a))):(this.$_input.removeAttr("src"),this.$_icon.detach().removeAttr("src"));return a}},"public virtual text":{get:function(){return b.asString(this.$_input.val())},set:function(a){var c=this.icon;a=b.asString(a);this.$_input.val(a);this.$_button.text(a);c&&(this.$_icon.attr("src",c),this.$_button.prepend(this.$_icon));return a}},"public override visible":{get:function(){return!this.$_button.is(":hidden")}}})});
var s=function(a){a=a.data;c===a.__self&&(c=null);a.$_textbox.removeClass("focused multiline");a.$_input.hasClass("floating")&&a.$_input.removeClass("focused");if(!b.compatibility.placeholder&&!a.$_input.val()){var l=b.asString(a.$_input.attr("placeholder"));l&&a.$_input.addClass("placeholder").val(l)}},t=function(a){a=a.data;c&&c!==a.__self&&c.blur();c=a.__self;a.$_textbox.addClass("focused");a.$_input.hasClass("floating")&&a.$_input.addClass("focused");b.compatibility.placeholder||a.$_input.hasClass("placeholder")&&
a.$_input.removeClass("placeholder").val("")},u=function(a){if(13==a.which)return a.preventDefault(),a.data.$_textbox.closest("form").find('input[type="submit"], input[data-submit]').jT_filterButtons().first().click(),!1};b.property(d,"Textbox",{e:!0,v:b(d.InputElement,function(a){this.__base(a);this.$_textbox=e('<span class="input" />');this.$_wrapper=e('<span class="fwrapper textbox" />');a=b.asString(this.$_input.attr("class"));var c=b.asString(this.$_input.attr("style"));a&&this.$_wrapper.data("__jTypes__class",
a).addClass(a);c&&this.$_wrapper.data("__jTypes__style",c).attr("style",c);this.$_wrapper.append(this.$_textbox.bind("click",this,$_textbox_click).bind("vmousedown",this,$_textbox_mousedown).append(this.$_input.after(this.$_wrapper).detach().removeAttr("class").removeAttr("style").bind("blur",this,$_textbox_blur).bind("focus",this,$_textbox_focus).bind("keydown",this,$_textbox_keydown)));!b.compatibility.placeholder&&!this.$_input.val()&&(a=b.asString(this.$_input.attr("placeholder")))&&this.$_input.addClass("placeholder").val(a)},
{"protected $_textbox":null,"protected $_wrapper":null,"public override blur":function(){if(arguments.length)this.__base.blur.apply(this,arguments);else{if(!this.__base.blur())return!1;this.$_input.blur();return!0}return this},"public override dispose":function(){this.__base.dispose();var a=this.$_wrapper.data("__jTypes__class"),b=this.$_wrapper.data("__jTypes__style");a?this.$_input.attr("class",a):this.$_input.removeAttr("class");b?this.$_input.attr("style",b):this.$_input.removeAttr("style");this.$_wrapper.before(this.$_input.detach().unbind("blur",
s).unbind("focus",t).unbind("keydown",u)).remove()},"public override focus":function(){if(arguments.length)this.__base.focus.apply(this,arguments);else{if(!this.__base.focus())return this;b.utilities.scrollTo(this.$_wrapper);this.$_input.focus()}return this},"public override reset":function(){this.__base.reset();this.$_textbox.removeClass("error");this.value=this.$_input.prop("defaultValue");return this},"public override disabled":{set:function(a){(this.__base.disabled=a)?this.$_textbox.addClass("disabled"):
this.$_textbox.removeClass("disabled")}},"public placeholder":{get:function(){return b.asString(this.$_input.attr("placeholder"))},set:function(a){(a=b.asString(a))?this.$_input.attr("placeholder",a):this.$_input.removeAttr("placeholder");!b.compatibility.placeholder&&this.$_textbox.hasClass("placeholder")&&this.$_input.val(a)}},"public virtual value":{get:function(){return!b.compatibility.placeholder&&this.$_textbox.hasClass("placeholder")?"":b.asString(this.$_input.val())},set:function(a){a=b.asString(a);
this.$_input.val(a);b.compatibility.placeholder||(a?this.$_textbox.removeClass("placeholder"):(this.$_input.val(b.asString(this.$_input.attr("placeholder"))),this.$_textbox.addClass("placeholder")))}},"public override visible":{get:function(){return!this.$_textbox.is(":hidden")}}})});q.call(h,b,"forms",{configurable:!1,enumerable:!0,value:d,writable:!1})})(window,window.jQuery,window.jTypes);