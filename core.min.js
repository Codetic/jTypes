/*! ------------------------------------------------------------------------
//                               jTypes 2.1.0b
//  ------------------------------------------------------------------------
//
//                   Copyright 2013 Gaulinsoft Corporation
//
//       Licensed under the Apache License, Version 2.0 (the "License");
//      you may not use this file except in compliance with the License.
//                   You may obtain a copy of the License at
//
//                 http://www.apache.org/licenses/LICENSE-2.0
//
//     Unless required by applicable law or agreed to in writing, software
//      distributed under the License is distributed on an "AS IS" BASIS,
//  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
//     See the License for the specific language governing permissions and
//                       limitations under the License.
*/
(function(U,P){var c=Object,ia=c.prototype,K=c.create,Ha=c.defineProperties,m=c.defineProperty,C=c.freeze,ta=c.getPrototypeOf,Y=c.keys,da=c.preventExtensions,e=c.seal,A=ia.hasOwnProperty,Ia=ia.toString,ea=Array,ja=ea.prototype,ea=ea.isArray,Ja=ja.forEach,ua=ja.indexOf,fa=String.prototype,Ka=fa.replace,fa=fa.trim;if(!K||!m||!C||!ta||!da||!e||!ea||!Ja||!ua||!fa)throw"jTypes Error: A browser that supports JavaScript 1.8.5 (MSIE 9+) is required.";var ga=function(a,b){a=a?"$$."+a:"$$";for(var c=[],g=0,
h=b.length;g<h;g++)c.push(p.type(b[g]));return"jTypes Error: "+p.format('"{0}({1})" has some invalid arguments.',a,c.join(", "))},q=function(a){return"jTypes Error: "+p.format.apply(p,arguments)},k=function(a,b){return m.call(c,p,a,{configurable:!1,enumerable:!1,value:b,writable:!1})},da=function(a,b,Q){return m.call(c,p,a,{configurable:!1,enumerable:!0,get:b||P,set:Q||P})},Z="ABCDEFGHIJKLMNOPQRSTUVWXYZ",va=[],Z=Z+Z.toLowerCase(),e=function(a){a||(a=3);var b="";do for(var b="",c=0;c<a;c++)b+=Z.charAt(Math.floor(Z.length*
Math.random()));while(0<=ua.call(va,b));va.push(b);return"~"+b},wa=e(3),xa=e(3),X=e(3),La=e(3),ya=e(3),Ma=e(3),za=e(3),Aa=e(3),ka=e(3),la=e(3),Ba=e(3),Na=e(3),ma=e(3),Oa=e(3),$=e(3),aa=e(3);e(3);var ba=e(3),L=e(3),Ca=e(3),J=e(3),M=e(3),e=0,V=e++,R=e++,S=e++,x=e++,N=e++,ha=e++,e=0;e++;e++;e++;e++;e++;var T=function(){},e={constructor:T,toString:function(){return"[object Instance]"}};C.call(c,e);T.prototype=e;C.call(c,T);var Pa=function(){return"[object Class]"},Da=!0,O=!0,ca=!1,Ea=function(a,b,Q,g,
h,p,q,l,e,n,s){var j={},r=h[R],d=h[S];j[$]=!d&&q;j[aa]=!d&&e;j[ba]=!d&&(n||q||l);j[L]=r.substr(5);j[Ca]=s;j[J]=p;j[M]=h[ha];C.call(c,j);h[V]?d?m.call(c,b,r,{enumerable:!0,value:j}):h[x]?m.call(c,Q,r,{enumerable:!0,value:j}):h[N]&&m.call(c,g,r,{enumerable:!0,value:j}):m.call(c,a,r,{enumerable:!0,value:j})},Fa=function(a,b,c){b=b[c];if(b[$]&&(a=A.call(a,c)&&a[c]||null,!a||a[J]!==b[J]))throw q('Class must implement the inherited abstract {1} "{0}" with the override modifier.',b[L],b[J]);},na=function(a,
b,c,g,h,m,p,l){c||(c=b);var e=null;p?e=g[a]||null:l&&(e=h[a]||null);if(m){if(!e||e[J]!==b||!e[ba]||e[aa])throw q('"{0}" has no suitable {1} to override.',"~"===a.charAt(0)?a.substr(5):a,c);}else if(e&&e[$])throw q('"{0}" must implement the inherited abstract {1} with the override modifier.',"~"===a.charAt(0)?a.substr(5):a,b);},Qa=function(a,b,Q,g,h,e,t,l,E,n,s){var j="field";p.isFunction(t)?j="method":p.isSimpleObject(t)&&(j="property");var r=p.asString(e).trim().split(" ")||[],d=p.asString(r.pop());
if(!d.trim())throw q('"" is not a valid {0} name.',j);if(!d.match(/^(_|\$|[a-z])[_\$a-z0-9]*$/i))throw q('"{1}" is not a valid {0} name.',j,d);for(var v=e=!1,f=!1,k=!1,F=!1,w=!1,y=!1,H=!1,z=!1,D=!1,B=0,I=r.length;B<I;B++){var u=r[B];if("field"!==j&&"abstract"===u)e=!0;else if("field"!==j&&"override"===u)v=!0;else if("private"===u)w=!0;else if("protected"===u)y=!0;else if("prototype"===u)z=!0;else if("public"===u)H=!0;else if("field"===j&&"readonly"===u)f=!0;else if("field"!==j&&"sealed"===u)k=!0;
else if("static"===u)D=!0;else if("field"!==j&&"virtual"===u)F=!0;else if(u)throw q('"{1}" has an invalid {0} modifier "{2}".',j,d,u);}if("as"===d||"is"===d||"~constructor"===d||"constructor"===d||"prototype"===d||"__base"===d||"__self"===d||"__this"===d)throw q('"{1}" is not a valid {0} name.',"member",d);if(w&&y||w&&H||y&&H)throw q('"{0}" cannot have more than one access modifier.',d);if(z||D){if(z){if(D)throw q('"{0}" cannot have the {1} and {2} modifiers.',d,"prototype","static");j="prototype";
if(a[d]||b[d]||A.call(g,d)||Q[d])throw q('"{0}" cannot have more than one definition or hide an inherited non-prototype member.',d);}else if(D&&(j="static",A.call(h,d)))throw q('"{0}" cannot have more than one static definition.',d);if(e||v||F)throw q('"{0}" cannot have the abstract, virtual, or override modifiers because it is {1}.',d,j);if(w||y||H)throw q('"{0}" cannot have the public, protected, or private modifiers because it is {1}.',d,j);if(f)throw q('"{0}" cannot have the readonly modifier because it is {1}.',
d,j);}else{if(A.call(a,d)||A.call(b,d)||A.call(g,d)||A.call(Q,d))throw q('"{0}" cannot have more than one definition.',d);!y&&!H&&(w=!0)}if("method"===j||"property"===j){if(w&&(e||v||F))throw q('"{0}" cannot have the abstract, virtual, or override modifiers because it is {1}.',d,"private");if(e){if(k)throw q('"{0}" cannot have the {1} and {2} modifiers.',d,"abstract","sealed");if(F)throw q('"{0}" cannot have the {1} and {2} modifiers.',d,"abstract","virtual");if(!n)throw q('"{0}" cannot have the abstract modifier in a non-abstract class.',
d);}if(v){if(F)throw q('"{0}" cannot have the {1} and {2} modifiers.',d,"override","virtual");if(!l&&!E)throw q('"{0}" has no suitable {1} to override.',d,j);}else if(k)throw q('"{0}" cannot have the {1} modifier without the {2} modifier.',d,"sealed","override");if(s&&F)throw q('"{0}" cannot have the virtual modifier in a sealed class.',d);}n=null;w?n=a:y?n=b:H&&(n=Q);switch(j){case "field":p.isReferenceType(t)&&(t=null);a={};a[ma]=f;a[L]=d;a[J]=j;a[M]=t;C.call(c,a);m.call(c,n,d,{enumerable:!0,value:a});
break;case "method":(l||E)&&na(d,j,null,l,E,v,y,H);a={};a[$]=e;a[aa]=k;a[ba]=F||e||v;a[L]=d;a[J]=j;a[M]=t;C.call(c,a);m.call(c,n,d,{enumerable:!0,value:a});break;case "property":g=[];h=[];var D=z=!1,oa;for(oa in t){s=p.asString(oa).trim().split(" ")||[];r=p.asString(s.pop());B=t[oa];if(!r.trim())throw q('"{0}" must have at least one property accessor.',d);f=null;if("get"!==r){if("set"!==r)throw q('"{0}" cannot have a "{1}" property accessor.',d,r);if(D)throw q('"{0}" cannot have more than one definition for the {1} accessor.',
d,"set");D=!0;h[R]="~set_"+d;f=h;v&&(!z&&n["~get_"+d])&&(g[V]=!1,g[R]="~get_"+d,g[S]=w,g[x]=y,g[N]=H,g[ha]=function(){return this.__base[d]})}else{if(z)throw q('"{0}" cannot have more than one definition for the {1} accessor.',d,"get");z=!0;g[R]="~get_"+d;f=g;v&&(!D&&n["~set_"+d])&&(h[V]=!1,h[R]="~set_"+d,h[S]=w,h[x]=y,h[N]=H,h[ha]=function(a){this.__base[d]=a})}if(!p.isFunction(B))throw q('"{0}" must have a function for the {1} accessor.',d,r);f[S]=!1;f[x]=!1;f[N]=!1;f[ha]=B;B=0;for(I=s.length;B<
I;B++){var G=s[B];if("private"===G)f[S]=!0;else if("protected"===G)f[x]=!0;else if("public"===G)f[N]=!0;else if(u)throw q('"{0}" has an invalid modifier "{2}" on the {1} accessor.',d,r,u);}f[V]=f[S]||f[x]||f[N];if(f[V]){if(f[S]&&f[x]||f[S]&&f[N]||f[x]&&f[N])throw q('"{0}" cannot have more than one access modifier.',r);if(f[N]||f[x]&&!H||f[S]&&w)throw q('"{0}" must have a more restrictive access modifier on the {1} accessor.',d,r);}}if(!z&&!D)throw q('"{0}" must have at least one property accessor.',
d);t=g[V];u=h[V];if(t&&u)throw q('"{0}" cannot have access modifiers on both property accessors.',d);if(!D&&t)throw q('"{0}" must have both accessors to have an access modifier on the {1} accessor.',d,"get");if(!z&&u)throw q('"{0}" must have both accessors to have an access modifier on the {1} accessor.',d,"set");z=z||!!g[R];D=D||!!h[R];if(z){if(l||E)na(g[R],j,"get accessor",l,E,v,t?g[x]:y,t?g[N]:H);Ea(n,a,b,Q,g,j,e,v,k,F,z&&D)}if(D){if(l||E)na(h[R],j,"set accessor",l,E,v,u?h[x]:y,u?h[N]:H);Ea(n,
a,b,Q,h,j,e,v,k,F,z&&D)}break;case "prototype":case "static":f={},f[L]=d,f[J]=j,f[M]=t,C.call(c,f),z?g[d]=f:D&&(h[d]=f)}},W=function(a,b,c){return"get"===c?{configurable:a.configurable,enumerable:a.enumerable,get:a.get,set:b.set}:"set"===c?{configurable:a.configurable,enumerable:a.enumerable,get:b.get,set:a.set}:a},Ga=function(a,b,c,g,h,e,m,p,q){a.configurable=b;a.enumerable=!0;b=function(){var a=g.apply(c,arguments);return a===e||m&&a===m||a===h?p:a};"get"===q?a.get=b:"set"===q?a.set=b:a.value=b},
pa=function(a,b,c,g){if(c[ba])if(c[aa])g[b]=a;else return(c=g[b]||null)||(g[b]=a),c;else g[b]=null;return null},qa=function(a,b,e,g,h,k,t,l,E,n,s,j,r,d){var v=b[a];switch(v[J]){case "field":b={};var f=v[L];if(d&&v[Na]){a=b;var x=f,F=v[M],w=v[Oa],y=v[ma]?k:null;a.configurable=!1;a.enumerable=!0;a.get=function(){return d[F]};a.set=w?y?function(a){if(y())throw q('"{0}" cannot be set because it is a read-only field.',x);if(a!==P&&null!==a&&p.type(a)!==w)throw q('"{0}" must have a value of the types {1}, null, or undefined.',
x,w);d[F]=a}:function(a){if(a!==P&&null!==a&&p.type(a)!==w)throw q('"{0}" must have a value of the types {1}, null, or undefined.',x,w);d[F]=a}:y?function(a){if(y())throw q('"{0}" cannot be set because it is a read-only field.',x);d[F]=a}:function(a){d[F]=a}}else{a=b;var H=f,z=v[M],D=v[ma]?k:null;a.configurable=!1;a.enumerable=!0;a.get=function(){return z};a.set=D?function(a){if(D())throw q('"{0}" cannot be set because it is a read-only field.',H);z=a===s||j&&a===j||a===n?r:a}:function(a){z=a===s||
j&&a===j||a===n?r:a}}l||E?(m.call(c,n,f,b),O?m.call(c,j,f,b):(m.call(c,s,f,b),g[f]=b,h[f]=b),E&&m.call(c,r,f,b)):m.call(c,s,f,b);break;case "method":b={};f=v[L];k=s;l&&"~constructor"===f&&(O?(k=K.call(c,s),m.call(c,k,"__base",{get:function(){var a=s.__base;return a&&a["~constructor"]||null}}),C.call(c,k)):k=t);Ga(b,!1,k,v[M],n,s,j,r);l||E?(m.call(c,n,f,b),l=(l=pa(b,a,v,e))?l:b,O?m.call(c,j,f,l):(m.call(c,s,f,l),g[f]=l,h[f]=b),E&&m.call(c,r,f,l)):m.call(c,s,f,b);break;case "property":k=a.substr(1,
3);var f=v[L],B=v[Ca];t=B&&A.call(n,f);var I=B&&A.call(s,f),u=t||I;b={};Ga(b,B&&!u,s,v[M],n,s,j,r,k);!B||u?(B=B&&A.call(r,f),l||E?(m.call(c,n,f,t?W(b,n[f],k):b),l=(l=pa(b,a,v,e))?l:b,O?(m.call(c,j,f,t?W(l,j[f],k):l),I&&m.call(c,s,f,s[f])):(m.call(c,s,f,I?W(l,s[f],k):l),g[f]=u&&A.call(g,f)?W(l,g[f],k):l,h[f]=u&&A.call(h,f)?W(b,h[f],k):b),E?m.call(c,r,f,B?W(l,r[f],k):l):B&&m.call(c,r,f,r[f])):u?(m.call(c,s,f,I?W(b,s[f],k):b),t&&(m.call(c,n,f,n[f]),O&&m.call(c,j,f,j[f])),B&&m.call(c,r,f,r[f])):m.call(c,
s,f,b)):l||E?(m.call(c,n,f,{configurable:!0,value:b}),l=(l=pa(b,a,v,e))?l:b,O?m.call(c,j,f,{configurable:!0,value:l}):(m.call(c,s,f,{configurable:!0,value:l}),g[f]=l,h[f]=b),E&&m.call(c,r,f,{configurable:!0,value:l})):m.call(c,s,f,{configurable:!0,value:b})}},ra=function(a,b,e){for(var g in a)if(!A.call(e,g)){var h=a[g];m.call(c,e,g,h);b[g]=h}},p=function(){var a=0,b=null,e=arguments[a++],g="",h=null;if(p.isSimpleObject(e))h=e,e=null;else if(h=arguments[a++],p.isFunction(e)||(p.isClass(e)?(b=e,p.isFunction(h)?
(e=h,h=arguments[a++]):e=null):(g=p.asString(e),p.isClass(h)?(b=h,e=arguments[a++]):e=h,p.isFunction(e)?h=arguments[a++]:(h=e,e=null))),!p.isSimpleObject(h))throw ga(null,arguments);if(arguments.length!==a)throw ga(null,arguments);var k=!1,t=!1,l=!1,E=!1,n=!1,s=!1;if(g){for(var j=g.trim().split(" ")||[],g=0,r=j.length;g<r;g++){var d=j[g];if("abstract"===d)k=!0;else if("expando"===d)s=n=E=l=!0;else if("expando-private"===d||"private-expando"===d)E=!0;else if("expando-public"===d||"public-expando"===
d)s=!0;else if("expando-prototype"===d||"prototype-expando"===d)n=!0;else if("expando-static"===d||"static-expando"===d)l=!0;else if("sealed"===d)t=!0;else if(d)throw q('"{0}" is not a valid class modifier.',d);}if(arguments.length!==a)throw ga(null,arguments);if(k&&t)throw q("Classes cannot have the abstract and sealed modifiers.");}var v={},f=b?K.call(c,b[ka]):{},g=new T,x=b?K.call(c,b[la]):{},j={},a={},d=b&&b[ka]||null,F=b&&b[la]||null,w;for(w in h)"constructor"===w||"prototype"===w||Qa(v,f,x,
j,a,w,h[w],d,F,k,t);if(b){if(b[Aa])throw q("Classes cannot inherit from a sealed class.");if(b[Ba])throw q("Classes cannot inherit from a .NET class.");if(b[wa]){h=Y.call(c,d)||[];w=Y.call(c,F)||[];g=0;for(r=h.length;g<r;g++)Fa(f,d,h[g]);g=0;for(r=w.length;g<r;g++)Fa(x,F,w[g])}ca=!0;g=new b;ca=!1}e||(e=function(){if(this.__base)return this.__base.apply(this,arguments)});h={};h[$]=!1;h[aa]=!1;h[ba]=!1;h[L]="~constructor";h[J]="method";h[M]=e;C.call(c,h);m.call(c,f,"~constructor",{enumerable:!0,value:h});
for(var y in j)e=j[y],"prototype"===e[J]&&m.call(c,g,e[L],{enumerable:!0,value:e[M]});C.call(c,v);C.call(c,f);C.call(c,x);var H=Y.call(c,v)||[],z=Y.call(c,f)||[],D=Y.call(c,x)||[],B=function(a,b,e,d,g,h,j,m,p){if(this===T){var k=null,q=a[0],l=null,r=a[2];O?(k=a[3],l=a[1]):k=a[1];a=0;for(var u=H.length;a<u;a++)qa(H[a],v,null,null,null,j,null,!1,!1,k,q,l,r,p);a=0;for(u=z.length;a<u;a++)qa(z[a],f,g,e,b,j,m,!0,!1,k,q,l,r,p);a=0;for(u=D.length;a<u;a++)qa(D[a],x,h,d,b,j,null,!1,!0,k,q,l,r,p);O&&(C.call(c,
k),C.call(c,l),E||C.call(c,q),s||C.call(c,r))}},I=[];y=b;for(var u=1;p.isClass(y);)I.push(y),y=y[xa];var A=function(){if(!ca){if(k)throw q("Abstract classes cannot be instantiated.");var a=this,b=[],e=!1,f=this instanceof A;f||(ca=!0,a=new A,ca=!1);m.call(c,a,"__self",{value:a});m.call(c,a,"as",{value:function(c){if(!p.isClass(c)||!(a instanceof c))return null;var d=0;do if(I[d]===c)break;while(++d<u);return b[d][2]}});m.call(c,a,"is",{value:function(b){return!b?!1:!!(a instanceof b)}});var d=a,g=
null,h=null,j=a,l=function(){return e},r={},s={};if(O){h=a;for(n=u-1;0<=n;n--)d=K.call(c,d),h=K.call(c,h),j=K.call(c,j),g=K.call(c,h),m.call(c,g,"__self",{value:a}),m.call(c,g,"__this",{value:j}),n!==u-1&&m.call(c,g,"__base",{value:b[n+1][3]}),b[n]=[g,h,j,d];for(n=0;n<u;n++)(0===n?B:I[n][X]).call(T,b[n],null,null,null,r,s,l,null,null)}else{for(var h=[],v=[],n=0;n<u;n++){var d=K.call(c,a),g={},j=K.call(c,a),t=K.call(c,g),w=[g,d,j],x={},y={},z={};(0===n?B:I[n][X]).call(T,w,x,y,z,r,s,l,t,null);b.push(w);
h.push(t);v.push([x,y,z])}s=r=l=null;for(n=u-1;0<=n;n--)w=b[n],d=w[1],g=w[0],j=w[2],m.call(c,g,"__self",{value:a}),m.call(c,g,"__this",{value:j}),n!==u-1?(x=b[n+1][1],m.call(c,g,"__base",{value:x}),t=h[n],m.call(c,t,"__base",{value:x["~constructor"]}),C.call(c,t),x=l,y=r,z=s,t=v[n],l=t[0],r=t[1],s=t[2],ra(x,l,d),ra(y,r,g),ra(z,s,j)):(t=v[n],l=t[0],r=t[1],s=t[2]),C.call(c,d),I[n][ya]||C.call(c,g),I[n][za]||C.call(c,j)}f&&(arguments.length?g["~constructor"].apply(g,arguments):g["~constructor"].call(g));
e=!0;return j}},u=I.unshift(A),G;for(G in a)e=a[G],"static"===e[J]&&m.call(c,A,e[L],{enumerable:!0,value:e[M]});G={};G[wa]={value:k};G[xa]={value:b};G[La]={value:l};G[ya]={value:E};G[Ma]={value:n};G[za]={value:s};G[Aa]={value:t};G[la]={value:x};G[Ba]={value:!1};t||(G[X]={value:B},G[ka]={value:f});Ha.call(c,A,G);m.call(c,g,"constructor",{value:A});n||C.call(c,g);m.call(c,A,"prototype",{value:g});A.toString=Pa;l||C.call(c,A);return A};k("toString",function(){return"[object jTypes]"});m.call(c,p,"version",
{configurable:!1,enumerable:!0,value:"2.1.0b",writable:!1});var sa={};"Array Boolean Date Function Number RegExp String".split(" ").forEach(function(a){var b=a.toLowerCase();sa["[object "+a+"]"]=b;k("is"+a,function(a){return p.type(a)===b})});["Window","window","Global","global"].forEach(function(a){sa["[object "+a+"]"]="window"});k("type",function(a){return null===a||a===P?a+"":a===U?"window":A.call(a,X)&&"function"===typeof a[X]?"class":a instanceof T?"instance":sa[Ia.call(a)]||"object"});k("isClass",
function(a){return a&&"function"===typeof a[X]});k("isFinite",function(a){return!(!p.isNumber(a)||!isFinite(a))});k("isInfinity",function(a){return p.isNumber(a)&&!isNaN(a)&&!isFinite(a)});k("isInstance",function(a){return a===P||null===a?!1:!!(a instanceof T)});k("isNaN",function(a){return!(!p.isNumber(a)||!isNaN(a))});k("isNegativeInfinity",function(a){return p.isNumber(a)&&!isNaN(a)&&!isFinite(a)&&0>a});k("isNull",function(a){return null===a});k("isPositiveInfinity",function(a){return p.isNumber(a)&&
!isNaN(a)&&!isFinite(a)&&0<a});k("isReferenceType",function(a){a=p.type(a);return"undefined"!==a&&"null"!==a&&"boolean"!==a&&"number"!==a&&"string"!==a});k("isSimpleObject",function(a){return!a||"object"!==p.type(a)?!1:ta.call(c,a)===ia});k("isUndefined",function(a){return a===P});k("isValueType",function(a){a=p.type(a);return"boolean"===a||"number"===a||"string"===a});k("isWindow",function(a){return a===U?!0:"window"===p.type(a)});k("asArray",function(a){if(null===a||a===P)return[];var b=p.type(a);
return"array"===b?a:"boolean"===b||"number"===b||"string"===b?[]:ja.slice.call(a,0)||[]});k("asBool",function(a){return!!a});k("asFloat",function(a){return parseFloat(a)});k("asInt",function(a){var b=parseInt(a,10);if(!isNaN(b))return b;b=parseFloat(a);return 9007199254740992<b?Infinity:-9007199254740992>b?-Infinity:NaN});k("asString",function(a){var b=p.type(a);return"string"===b?a:"boolean"===b||"number"===b?a+"":""});k("empty",function(){return function(){}});k("format",function(a){if(!p.isString(a))throw ga("format",
arguments);var b=arguments;return Ka.call(a,/\{([0-9]{1,2})\}/g,function(a,c){var e=p.asInt(c)+1;return e>=b.length?a:p.asString(b[e])})});da("debug",function(){return Da},function(a){Da=p.asBool(a)});da("lazy",function(){return O},function(a){O=p.asBool(a)});if("function"===typeof define&&define.amd)define(function(){return p});else if("undefined"!==typeof module&&module&&module.exports)module.exports=p;else{if(U.$$===P||U.$$===U.jTypes)U.$$=p;U.jTypes=p}})("undefined"!==typeof window?window:{});