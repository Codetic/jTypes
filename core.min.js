/*! ------------------------------------------------------------------------
//                               jTypes 2.1.0b
//  ------------------------------------------------------------------------
//
//                   Copyright 2013 Gaulinsoft Corporation
//
//       Licensed under the Apache License, Version 2.0 (the "License");
//      you may not use this file except in compliance with the License.
//                   You may obtain a copy of the License at
//
//                 http://www.apache.org/licenses/LICENSE-2.0
//
//     Unless required by applicable law or agreed to in writing, software
//      distributed under the License is distributed on an "AS IS" BASIS,
//  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
//     See the License for the specific language governing permissions and
//                       limitations under the License.
*/
(function(T,U){var c=Object,ia=c.prototype,I=c.create,Ga=c.defineProperties,p=c.defineProperty,z=c.freeze,sa=c.getPrototypeOf,Y=c.keys,ea=c.preventExtensions,d=c.seal,E=ia.hasOwnProperty,Ha=ia.toString,fa=Array,ja=fa.prototype,fa=fa.isArray,Ia=ja.forEach,ta=ja.indexOf,ga=String.prototype,Ja=ga.replace,ga=ga.trim;if(!I||!p||!z||!sa||!ea||!d||!fa||!Ia||!ta||!ga)throw"jTypes Error: A browser that supports JavaScript 1.8.5 (MSIE 9+) is required.";var ka=function(a,b){a=a?"$$."+a:"$$";for(var c=[],v=0,
f=b.length;v<f;v++)c.push(k.type(b[v]));return"jTypes Error: "+k.format('"{0}({1})" has some invalid arguments.',a,c.join(", "))},r=function(a){return"jTypes Error: "+k.format.apply(k,arguments)},j=function(a,b){return p.call(c,k,a,{configurable:!1,enumerable:!1,value:b,writable:!1})},ea=function(a,b,P){return p.call(c,k,a,{configurable:!1,enumerable:!0,get:b||U,set:P||U})},Z="ABCDEFGHIJKLMNOPQRSTUVWXYZ",ua=[],Z=Z+Z.toLowerCase(),d=function(a){a||(a=3);var b="";do for(var b="",c=0;c<a;c++)b+=Z.charAt(Math.floor(Z.length*
Math.random()));while(0<=ta.call(ua,b));ua.push(b);return"~"+b},va=d(3),wa=d(3),X=d(3),Ka=d(3),xa=d(3),La=d(3),ya=d(3),za=d(3),la=d(3),ma=d(3),Aa=d(3),$=d(3),aa=d(3),ba=d(3),M=d(3),Ba=d(3),L=d(3),O=d(3),d=0,V=d++,Q=d++,R=d++,A=d++,C=d++,ha=d++,d=0;d++;d++;d++;d++;d++;var S=function(){},d={constructor:S,toString:function(){return"[object Instance]"}};z.call(c,d);S.prototype=d;z.call(c,S);var Ma=function(){return"[object Class]"},Ca=!0,N=!0,ca=!1,Da=function(a,b,P,v,f,k,r,q,d,t,n){var h={},l=f[Q],e=
f[R];h[$]=!e&&r;h[aa]=!e&&d;h[ba]=!e&&(t||r||q);h[M]=l.substr(5);h[Ba]=n;h[L]=k;h[O]=f[ha];z.call(c,h);f[V]?e?p.call(c,b,l,{enumerable:!0,value:h}):f[A]?p.call(c,P,l,{enumerable:!0,value:h}):f[C]&&p.call(c,v,l,{enumerable:!0,value:h}):p.call(c,a,l,{enumerable:!0,value:h})},Ea=function(a,b,c){b=b[c];if(b[$]&&(a=E.call(a,c)&&a[c]||null,!a||a[L]!==b[L]))throw r('Class must implement the inherited abstract {1} "{0}" with the override modifier.',b[M],b[L]);},na=function(a,b,c,v,f,p,k,q){c||(c=b);var d=
null;k?d=v[a]||null:q&&(d=f[a]||null);if(p){if(!d||d[L]!==b||!d[ba]||d[aa])throw r('"{0}" has no suitable {1} to override.',"~"===a.charAt(0)?a.substr(5):a,c);}else if(d&&d[$])throw r('"{0}" must implement the inherited abstract {1} with the override modifier.',"~"===a.charAt(0)?a.substr(5):a,b);},Na=function(a,b,P,v,f,d,u,q,y,t,n){var h="field";k.isFunction(u)?h="method":k.isSimpleObject(u)&&(h="property");var l=k.asString(d).trim().split(" ")||[],e=k.asString(l.pop());if(!e.trim())throw r('"" is not a valid {0} name.',
h);if(!e.match(/^(_|\$|[a-z])[_\$a-z0-9]*$/i))throw r('"{1}" is not a valid {0} name.',h,e);for(var g=d=!1,s=!1,j=!1,H=!1,m=!1,w=!1,B=!1,F=!1,D=!1,J=0,I=l.length;J<I;J++){var x=l[J];if("field"!==h&&"abstract"===x)d=!0;else if("field"!==h&&"override"===x)g=!0;else if("private"===x)m=!0;else if("protected"===x)w=!0;else if("prototype"===x)F=!0;else if("public"===x)B=!0;else if("field"===h&&"readonly"===x)s=!0;else if("field"!==h&&"sealed"===x)j=!0;else if("static"===x)D=!0;else if("field"!==h&&"virtual"===
x)H=!0;else if(x)throw r('"{1}" has an invalid {0} modifier "{2}".',h,e,x);}if("as"===e||"is"===e||"~constructor"===e||"constructor"===e||"prototype"===e||"__base"===e||"__self"===e||"__this"===e)throw r('"{1}" is not a valid {0} name.',"member",e);if(m&&w||m&&B||w&&B)throw r('"{0}" cannot have more than one access modifier.',e);if(F||D){if(F){if(D)throw r('"{0}" cannot have the {1} and {2} modifiers.',e,"prototype","static");h="prototype";if(a[e]||b[e]||E.call(v,e)||P[e])throw r('"{0}" cannot have more than one definition or hide an inherited non-prototype member.',
e);}else if(D&&(h="static",E.call(f,e)))throw r('"{0}" cannot have more than one static definition.',e);if(d||g||H)throw r('"{0}" cannot have the abstract, virtual, or override modifiers because it is {1}.',e,h);if(m||w||B)throw r('"{0}" cannot have the public, protected, or private modifiers because it is {1}.',e,h);if(s)throw r('"{0}" cannot have the readonly modifier because it is {1}.',e,h);}else{if(E.call(a,e)||E.call(b,e)||E.call(v,e)||E.call(P,e))throw r('"{0}" cannot have more than one definition.',
e);!w&&!B&&(m=!0)}if("method"===h||"property"===h){if(m&&(d||g||H))throw r('"{0}" cannot have the abstract, virtual, or override modifiers because it is {1}.',e,"private");if(d){if(j)throw r('"{0}" cannot have the {1} and {2} modifiers.',e,"abstract","sealed");if(H)throw r('"{0}" cannot have the {1} and {2} modifiers.',e,"abstract","virtual");if(!t)throw r('"{0}" cannot have the abstract modifier in a non-abstract class.',e);}if(g){if(H)throw r('"{0}" cannot have the {1} and {2} modifiers.',e,"override",
"virtual");if(!q&&!y)throw r('"{0}" has no suitable {1} to override.',e,h);}else if(j)throw r('"{0}" cannot have the {1} modifier without the {2} modifier.',e,"sealed","override");if(n&&H)throw r('"{0}" cannot have the virtual modifier in a sealed class.',e);}t=null;m?t=a:w?t=b:B&&(t=P);switch(h){case "field":k.isReferenceType(u)&&(u=null);a={};a[Aa]=s;a[M]=e;a[L]=h;a[O]=u;z.call(c,a);p.call(c,t,e,{enumerable:!0,value:a});break;case "method":(q||y)&&na(e,h,null,q,y,g,w,B);a={};a[$]=d;a[aa]=j;a[ba]=
H||d||g;a[M]=e;a[L]=h;a[O]=u;z.call(c,a);p.call(c,t,e,{enumerable:!0,value:a});break;case "property":v=[];f=[];var D=F=!1,K;for(K in u){n=k.asString(K).trim().split(" ")||[];l=k.asString(n.pop());J=u[K];if(!l.trim())throw r('"{0}" must have at least one property accessor.',e);s=null;if("get"!==l){if("set"!==l)throw r('"{0}" cannot have a "{1}" property accessor.',e,l);if(D)throw r('"{0}" cannot have more than one definition for the {1} accessor.',e,"set");D=!0;f[Q]="~set_"+e;s=f;g&&(!F&&t["~get_"+
e])&&(v[V]=!1,v[Q]="~get_"+e,v[R]=m,v[A]=w,v[C]=B,v[ha]=function(){return this.__base[e]})}else{if(F)throw r('"{0}" cannot have more than one definition for the {1} accessor.',e,"get");F=!0;v[Q]="~get_"+e;s=v;g&&(!D&&t["~set_"+e])&&(f[V]=!1,f[Q]="~set_"+e,f[R]=m,f[A]=w,f[C]=B,f[ha]=function(a){this.__base[e]=a})}if(!k.isFunction(J))throw r('"{0}" must have a function for the {1} accessor.',e,l);s[R]=!1;s[A]=!1;s[C]=!1;s[ha]=J;J=0;for(I=n.length;J<I;J++){var G=n[J];if("private"===G)s[R]=!0;else if("protected"===
G)s[A]=!0;else if("public"===G)s[C]=!0;else if(x)throw r('"{0}" has an invalid modifier "{2}" on the {1} accessor.',e,l,x);}s[V]=s[R]||s[A]||s[C];if(s[V]){if(s[R]&&s[A]||s[R]&&s[C]||s[A]&&s[C])throw r('"{0}" cannot have more than one access modifier.',l);if(s[C]||s[A]&&!B||s[R]&&m)throw r('"{0}" must have a more restrictive access modifier on the {1} accessor.',e,l);}}if(!F&&!D)throw r('"{0}" must have at least one property accessor.',e);u=v[V];x=f[V];if(u&&x)throw r('"{0}" cannot have access modifiers on both property accessors.',
e);if(!D&&u)throw r('"{0}" must have both accessors to have an access modifier on the {1} accessor.',e,"get");if(!F&&x)throw r('"{0}" must have both accessors to have an access modifier on the {1} accessor.',e,"set");F=F||!!v[Q];D=D||!!f[Q];if(F){if(q||y)na(v[Q],h,"get accessor",q,y,g,u?v[A]:w,u?v[C]:B);Da(t,a,b,P,v,h,d,g,j,H,F&&D)}if(D){if(q||y)na(f[Q],h,"set accessor",q,y,g,x?f[A]:w,x?f[C]:B);Da(t,a,b,P,f,h,d,g,j,H,F&&D)}break;case "prototype":case "static":s={},s[M]=e,s[L]=h,s[O]=u,z.call(c,s),
F?v[e]=s:D&&(f[e]=s)}},W=function(a,b,c){return"get"===c?{configurable:a.configurable,enumerable:a.enumerable,get:a.get,set:b.set}:"set"===c?{configurable:a.configurable,enumerable:a.enumerable,get:b.get,set:a.set}:a},Fa=function(a,b,c,d,f,p,k,q,r){a.configurable=b;a.enumerable=!0;b=function(){var a=d.apply(c,arguments);return a===p||k&&a===k||a===f?q:a};"get"===r?a.get=b:"set"===r?a.set=b:a.value=b},oa=function(a,b,c,d){if(c[ba])if(c[aa])d[b]=a;else return(c=d[b]||null)||(d[b]=a),c;else d[b]=null;
return null},pa=function(a,b,d,k,f,j,u,q,y,t,n,h,l){var e=b[a];switch(e[L]){case "field":b={};var g=e[M];a=b;var s=g,A=e[O],H=e[Aa]?j:null;a.configurable=!1;a.enumerable=!0;a.get=function(){return A};a.set=H?function(a){if(H())throw r('"{0}" cannot be set because it is a read-only field.',s);A=a===n||h&&a===h||a===t?l:a}:function(a){A=a===n||h&&a===h||a===t?l:a};q||y?(p.call(c,t,g,b),N?p.call(c,h,g,b):(p.call(c,n,g,b),k[g]=b,f[g]=b),y&&p.call(c,l,g,b)):p.call(c,n,g,b);break;case "method":b={};g=e[M];
j=n;q&&"~constructor"===g&&(N?(j=I.call(c,n),p.call(c,j,"__base",{get:function(){var a=n.__base;return a&&a["~constructor"]||null}}),z.call(c,j)):j=u);Fa(b,!1,j,e[O],t,n,h,l);q||y?(p.call(c,t,g,b),q=(q=oa(b,a,e,d))?q:b,N?p.call(c,h,g,q):(p.call(c,n,g,q),k[g]=q,f[g]=b),y&&p.call(c,l,g,q)):p.call(c,n,g,b);break;case "property":j=a.substr(1,3);var g=e[M],m=e[Ba];u=m&&E.call(t,g);var w=m&&E.call(n,g),B=u||w;b={};Fa(b,m&&!B,n,e[O],t,n,h,l,j);!m||B?(m=m&&E.call(l,g),q||y?(p.call(c,t,g,u?W(b,t[g],j):b),
q=(q=oa(b,a,e,d))?q:b,N?(p.call(c,h,g,u?W(q,h[g],j):q),w&&p.call(c,n,g,n[g])):(p.call(c,n,g,w?W(q,n[g],j):q),k[g]=B&&E.call(k,g)?W(q,k[g],j):q,f[g]=B&&E.call(f,g)?W(b,f[g],j):b),y?p.call(c,l,g,m?W(q,l[g],j):q):m&&p.call(c,l,g,l[g])):B?(p.call(c,n,g,w?W(b,n[g],j):b),u&&(p.call(c,t,g,t[g]),N&&p.call(c,h,g,h[g])),m&&p.call(c,l,g,l[g])):p.call(c,n,g,b)):q||y?(p.call(c,t,g,{configurable:!0,value:b}),q=(q=oa(b,a,e,d))?q:b,N?p.call(c,h,g,{configurable:!0,value:q}):(p.call(c,n,g,{configurable:!0,value:q}),
k[g]=q,f[g]=b),y&&p.call(c,l,g,{configurable:!0,value:q})):p.call(c,n,g,{configurable:!0,value:b})}},qa=function(a,b,d){for(var k in a)if(!E.call(d,k)){var f=a[k];p.call(c,d,k,f);b[k]=f}},k=function(){var a=0,b=null,d=arguments[a++],j="",f=null;if(k.isSimpleObject(d))f=d,d=null;else if(f=arguments[a++],k.isFunction(d)||(k.isClass(d)?(b=d,k.isFunction(f)?(d=f,f=arguments[a++]):d=null):(j=k.asString(d),k.isClass(f)?(b=f,d=arguments[a++]):d=f,k.isFunction(d)?f=arguments[a++]:(f=d,d=null))),!k.isSimpleObject(f))throw ka(null,
arguments);if(arguments.length!==a)throw ka(null,arguments);var A=!1,u=a=!1,q=!1,y=!1,t=!1;if(j)for(var j=j.trim().split(" ")||[],n=0,h=j.length;n<h;n++){var l=j[n];if("abstract"===l)A=!0;else if("expando"===l)t=y=q=u=!0;else if("expando-private"===l||"private-expando"===l)q=!0;else if("expando-public"===l||"public-expando"===l)t=!0;else if("expando-prototype"===l||"prototype-expando"===l)y=!0;else if("expando-static"===l||"static-expando"===l)u=!0;else if("sealed"===l)a=!0;else if(l)throw r('"{0}" is not a valid class modifier.',
l);}if(A&&a)throw r("Classes cannot have the abstract and sealed modifiers.");var e={},g=b?I.call(c,b[la]):{},n=new S,s=b?I.call(c,b[ma]):{},l={},j={},E=b&&b[la]||null,H=b&&b[ma]||null,m;for(m in f)"constructor"===m||"prototype"===m||Na(e,g,s,l,j,m,f[m],E,H,A,a);if(b){if(b[za])throw r("Classes cannot inherit from a sealed class.");if(b[va]){f=Y.call(c,E)||[];m=Y.call(c,H)||[];n=0;for(h=f.length;n<h;n++)Ea(g,E,f[n]);n=0;for(h=m.length;n<h;n++)Ea(s,H,m[n])}ca=!0;n=new b;ca=!1}d||(d=function(){if(this.__base)return this.__base.apply(this,
arguments)});f={};f[$]=!1;f[aa]=!1;f[ba]=!1;f[M]="~constructor";f[L]="method";f[O]=d;z.call(c,f);p.call(c,g,"~constructor",{enumerable:!0,value:f});for(var w in l)d=l[w],"prototype"===d[L]&&p.call(c,n,d[M],{enumerable:!0,value:d[O]});z.call(c,e);z.call(c,g);z.call(c,s);var B=Y.call(c,e)||[],F=Y.call(c,g)||[],D=Y.call(c,s)||[],J=function(a,b,d,f,k,h,j,p){if(this===S){var l=null,n=a[0],r=null,m=a[2];N?(l=a[3],r=a[1]):l=a[1];a=0;for(var da=B.length;a<da;a++)pa(B[a],e,null,null,null,j,null,!1,!1,l,n,
r,m);a=0;for(da=F.length;a<da;a++)pa(F[a],g,k,d,b,j,p,!0,!1,l,n,r,m);a=0;for(da=D.length;a<da;a++)pa(D[a],s,h,f,b,j,null,!1,!0,l,n,r,m);N&&(z.call(c,l),z.call(c,r),q||z.call(c,n),t||z.call(c,m))}},C=[];w=b;for(var x=1;k.isClass(w);)C.push(w),w=w[wa];var K=function(){if(!ca){if(A)throw r("Abstract classes cannot be instantiated.");var a=this,b=[],d=!1,e=this instanceof K;e||(ca=!0,a=new K,ca=!1);p.call(c,a,"__self",{value:a});p.call(c,a,"as",{value:function(c){if(!k.isClass(c)||!(a instanceof c))return null;
var d=0;do if(C[d]===c)break;while(++d<x);return b[d][2]}});p.call(c,a,"is",{value:function(b){return!b?!1:!!(a instanceof b)}});var g=a,f=null,j=null,h=a,l=function(){return d},n={},q={};if(N){j=a;for(m=x-1;0<=m;m--)g=I.call(c,g),j=I.call(c,j),h=I.call(c,h),f=I.call(c,j),p.call(c,f,"__self",{value:a}),p.call(c,f,"__this",{value:h}),m!==x-1&&p.call(c,f,"__base",{value:b[m+1][3]}),b[m]=[f,j,h,g];for(m=0;m<x;m++)(0===m?J:C[m][X]).call(S,b[m],null,null,null,n,q,l)}else{for(var j=[],s=[],m=0;m<x;m++){var g=
I.call(c,a),f={},h=I.call(c,a),t=I.call(c,f),v=[f,g,h],u={},w={},y={};(0===m?J:C[m][X]).call(S,v,u,w,y,n,q,l,t);b.push(v);j.push(t);s.push([u,w,y])}q=n=l=null;for(m=x-1;0<=m;m--)v=b[m],g=v[1],f=v[0],h=v[2],p.call(c,f,"__self",{value:a}),p.call(c,f,"__this",{value:h}),m!==x-1?(u=b[m+1][1],p.call(c,f,"__base",{value:u}),t=j[m],p.call(c,t,"__base",{value:u["~constructor"]}),z.call(c,t),u=l,w=n,y=q,t=s[m],l=t[0],n=t[1],q=t[2],qa(u,l,g),qa(w,n,f),qa(y,q,h)):(t=s[m],l=t[0],n=t[1],q=t[2]),z.call(c,g),C[m][xa]||
z.call(c,f),C[m][ya]||z.call(c,h)}e&&f["~constructor"].apply(f,arguments);d=!0;return h}},x=C.unshift(K),G;for(G in j)d=j[G],"static"===d[L]&&p.call(c,K,d[M],{enumerable:!0,value:d[O]});G={};G[va]={value:A};G[wa]={value:b};G[Ka]={value:u};G[xa]={value:q};G[La]={value:y};G[ya]={value:t};G[za]={value:a};G[ma]={value:s};a||(G[X]={value:J},G[la]={value:g});Ga.call(c,K,G);p.call(c,n,"constructor",{value:K});y||z.call(c,n);p.call(c,K,"prototype",{value:n});K.toString=Ma;u||z.call(c,K);return K};j("toString",
function(){return"[object jTypes]"});p.call(c,k,"version",{configurable:!1,enumerable:!0,value:"2.1.0b",writable:!1});var ra={};"Array Boolean Date Function Number RegExp String".split(" ").forEach(function(a){var b=a.toLowerCase();ra["[object "+a+"]"]=b;j("is"+a,function(a){return k.type(a)===b})});["Window","window","Global","global"].forEach(function(a){ra["[object "+a+"]"]="window"});j("type",function(a){return null===a||a===U?a+"":a===T?"window":E.call(a,X)&&"function"===typeof a[X]?"class":
a instanceof S?"instance":ra[Ha.call(a)]||"object"});j("isClass",function(a){return a&&"function"===typeof a[X]});j("isFinite",function(a){return!(!k.isNumber(a)||!isFinite(a))});j("isInfinity",function(a){return k.isNumber(a)&&!isNaN(a)&&!isFinite(a)});j("isInstance",function(a){return a===U||null===a?!1:!!(a instanceof S)});j("isNaN",function(a){return!(!k.isNumber(a)||!isNaN(a))});j("isNegativeInfinity",function(a){return k.isNumber(a)&&!isNaN(a)&&!isFinite(a)&&0>a});j("isNull",function(a){return null===
a});j("isPositiveInfinity",function(a){return k.isNumber(a)&&!isNaN(a)&&!isFinite(a)&&0<a});j("isReferenceType",function(a){a=k.type(a);return"undefined"!==a&&"null"!==a&&"boolean"!==a&&"number"!==a&&"string"!==a});j("isSimpleObject",function(a){return!a||"object"!==k.type(a)?!1:sa.call(c,a)===ia});j("isUndefined",function(a){return a===U});j("isValueType",function(a){a=k.type(a);return"boolean"===a||"number"===a||"string"===a});j("isWindow",function(a){return a===T?!0:"window"===k.type(a)});j("asArray",
function(a){if(null===a||a===U)return[];var b=k.type(a);return"array"===b?a:"boolean"===b||"number"===b||"string"===b?[]:ja.slice.call(a,0)||[]});j("asBool",function(a){return!!a});j("asFloat",function(a){return parseFloat(a)});j("asInt",function(a){var b=parseInt(a,10);if(!isNaN(b))return b;b=parseFloat(a);return 9007199254740992<b?Infinity:-9007199254740992>b?-Infinity:NaN});j("asString",function(a){var b=k.type(a);return"string"===b?a:"boolean"===b||"number"===b?a+"":""});j("empty",function(){return function(){}});
j("format",function(a){if(!k.isString(a))throw ka("format",arguments);var b=arguments;return Ja.call(a,/\{([0-9]{1,2})\}/g,function(a,c){var d=k.asInt(c)+1;return d>=b.length?a:k.asString(b[d])})});ea("debug",function(){return Ca},function(a){Ca=k.asBool(a)});ea("lazy",function(){return N},function(a){N=k.asBool(a)});if("function"===typeof define&&define.amd)define(function(){return k});else if("undefined"!==typeof module&&module&&module.exports)module.exports=k;else{if(T.$$===U||T.$$===T.jTypes)T.$$=
k;T.jTypes=k}})("undefined"!==typeof window?window:{});